[
  {
      "name": "api",
      "image": "558908427467.dkr.ecr.us-east-1.amazonaws.com/many",
      "cpu": 1024,
      "portMappings": [
          {
              "name": "api-8080-tcp",
              "containerPort": 8080,
              "hostPort": 8080,
              "protocol": "tcp",
              "appProtocol": "http"
          },
          {
              "name": "api-8081-tcp",
              "containerPort": 8081,
              "hostPort": 8081,
              "protocol": "tcp",
              "appProtocol": "http"
          }
      ],
      "essential": true,
      "environment": [
          {
              "name": "SERVER_PORT",
              "value": "8080"
          },
          {
              "name": "MANAGEMENT_SERVER_PORT",
              "value": "8081"
          }
      ],
      "environmentFiles": [],
      "mountPoints": [],
      "volumesFrom": [],
      "secrets": [
          {
              "name": "SPRING_DATASOURCE_URL",
              "valueFrom": "ch-dev-user-db-url"
          },
          {
              "name": "SPRING_DATASOURCE_USERNAME",
              "valueFrom": "ch-dev-user-db-username"
          },
          {
              "name": "SPRING_DATASOURCE_PASSWOR",
              "valueFrom": "ch-dev-user-db-password"
          }
      ],
      "ulimits": [],
      "logConfiguration": {
          "logDriver": "awslogs",
          "options": {
              "awslogs-create-group": "true",
              "awslogs-group": "/ecs/",
              "awslogs-region": "us-east-1",
              "awslogs-stream-prefix": "ecs"
          },
          "secretOptions": []
      },
      "healthCheck": {
          "command": [
              "CMD-SHELL",
              "curl -f http://localhost:8081/actuator/health || exit 1"
          ],
          "interval": 30,
          "timeout": 5,
          "retries": 3,
          "startPeriod": 60
      }
  }
]
